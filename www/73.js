"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[73],{581:(Z,y,a)=>{a.d(y,{e:()=>_});var i=a(9808),p=a(2382),n=a(8526),f=a(5e3);let _=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[i.ez,p.u5,n.Pc]]}),u})()},694:(Z,y,a)=>{a.d(y,{O:()=>_});var i=a(5e3),p=a(8526),n=a(1479),f=a(7913);let _=(()=>{class u{constructor(d,r,m){this.modalCtrl=d,this.cart=r,this.utility=m,this.minOrderQty=1,this.cart.item.cartQuantity=this.minOrderQty,this.availableQty=this.cart.item.totalStock||0}ngOnInit(){}dismiss(){this.modalCtrl.dismiss()}increaseQuantity(){this.getCartItemQty()+1<=this.availableQty?this.cart.item.cartQuantity+=1:this.utility.showToast("\xa1No hay tanta cantidad!","top","error")}decreaseQuantity(){this.cart.item.cartQuantity-1>=this.minOrderQty?this.cart.item.cartQuantity-=1:this.utility.showToast(`La cantidad m\xednima es ${this.minOrderQty}`,"top","error")}getCartItemQty(){let d=this.cart.items.findIndex(m=>m.id===this.cart.item.id),r=this.cart.item.cartQuantity;return d>-1&&(r=this.cart.items[d].cartQuantity+this.cart.item.cartQuantity),r}addToCart(){let d=this.getCartItemQty();this.availableQty>0&&d<=this.availableQty?(this.cart.addToCart(),this.modalCtrl.dismiss()):this.utility.showToast("\xa1No disponemos de esa cantidad!","top","error")}}return u.\u0275fac=function(d){return new(d||u)(i.Y36(p.IN),i.Y36(n.N),i.Y36(f.t))},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-add-to-cart"]],decls:21,vars:3,consts:[[1,"main-content"],[1,"close-box"],["name","close",3,"click"],[1,"subnote","text-align-center"],[1,"counter-wrapper"],[1,"counter-label"],[1,"counter-icon",3,"click"],["name","remove","slot","icon-only","role","img","aria-label","remove"],[1,"counter-value"],["name","add","slot","icon-only","role","img","aria-label","add"],["expand","full","color","danger",1,"text-normal",3,"click"]],template:function(d,r){1&d&&(i.TgZ(0,"ion-content"),i.TgZ(1,"div",0),i.TgZ(2,"div",1),i.TgZ(3,"ion-icon",2),i.NdJ("click",function(){return r.dismiss()}),i.qZA(),i.qZA(),i.TgZ(4,"p",3),i._uU(5),i.qZA(),i.TgZ(6,"p",3),i._uU(7),i.qZA(),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i._uU(10,"Cantidad"),i.qZA(),i.TgZ(11,"ion-button",6),i.NdJ("click",function(){return r.decreaseQuantity()}),i._UZ(12,"ion-icon",7),i.qZA(),i.TgZ(13,"span",8),i._uU(14),i.qZA(),i.TgZ(15,"ion-button",6),i.NdJ("click",function(){return r.increaseQuantity()}),i._UZ(16,"ion-icon",9),i.qZA(),i.TgZ(17,"div",5),i._uU(18,"Unidades/Kg"),i.qZA(),i.qZA(),i.TgZ(19,"ion-button",10),i.NdJ("click",function(){return r.addToCart()}),i._uU(20,"Hecho"),i.qZA(),i.qZA(),i.qZA()),2&d&&(i.xp6(5),i.hij("Cantidad minima = ",r.minOrderQty," Kg_ud"),i.xp6(2),i.hij("disponible = ",r.availableQty," Kg_ud"),i.xp6(7),i.Oqu(null==r.cart||null==r.cart.item?null:r.cart.item.cartQuantity))},directives:[p.W2,p.gu,p.YG],styles:["ion-content[_ngcontent-%COMP%]{--background: none}.main-content[_ngcontent-%COMP%]{background:#ffffff;padding:10px;border-radius:5px}.counter-icon[_ngcontent-%COMP%]{--background: transparent;--border-radius: 50%;width:30px;height:30px;color:#000;font-size:7px}.counter-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin:10px 0;font-size:14px}.close-box[_ngcontent-%COMP%]{text-align:right;font-size:20px}.subnote[_ngcontent-%COMP%]{margin:0;font-size:.9rem;padding:0 16px;color:#686666}"]}),u})()},73:(Z,y,a)=>{a.r(y),a.d(y,{HomePageModule:()=>S});var i=a(9808),p=a(2382),n=a(8526),f=a(5666),_=a(655),u=a(694),t=a(5e3),d=a(7913);let r=(()=>{class s{constructor(e,o){this.modalCtrl=e,this.utility=o,this.brands=[],this.sizes=[],this.selectedBrands=[],this.selectedSizes=[],this.priceRange={lower:0,upper:5e3,applied:!1},this.sort={latest:!1,price_lth:!1,price_htl:!1},this.items=[],this.item={},this.filterItems=[],this.cartCount=0,this.listBy={nav:!1,search:!1,banner:!1,details:!1},this.searchTerm="",this.show_result_size=!0,this.bannerImages=[{imgurl:"assets/images/slide1.jpg"},{imgurl:"assets/images/slide2.jpg"},{imgurl:"assets/images/slide3.jpg"}],this.products=[{id:1,imgurl:"assets/images/aguacate2.jpg",name:"Aguacate Piel Lisa (Kg)",category:"Fruta",price:4.99,totalStock:10},{id:2,imgurl:"assets/images/ajo2.jpg",name:"Cabeza de Ajo (ud)",category:"Verdura",price:.79,totalStock:10},{id:3,imgurl:"assets/images/batata2.jpg",name:"batata amarilla (Kg)",category:"Verdura",price:2.49,totalStock:10},{id:4,imgurl:"assets/images/zanahoria2.jpg",name:"Zanahoria del Pa\xeds (Kg)",category:"Verdura",price:1.65,totalStock:10},{id:4,imgurl:"assets/images/cereza2.jpg",name:"Cerezas Tempranas (Kg)",category:"Fruta",price:2.29,totalStock:10},{id:4,imgurl:"assets/images/habichuela2.jpg",name:"Habichuelas del Pa\xeds(Kg)",category:"Verdura",price:1.5,totalStock:10},{id:4,imgurl:"assets/images/kiwi2.jpg",name:"Kiwi (Kg)",category:"Fruta",price:3.3,totalStock:10},{id:4,imgurl:"assets/images/platano2.jpg",name:"Pl\xe1tano (Kg)",category:"Oferta",price:.79,totalStock:10}],this.categories=[{category:"Fruta"},{category:"Verdura"},{category:"Oferta"}]}searchProducts(e,o=""){this.utility.presentLoading("\xa1Espere por favor!."),this.resetItems(),this.listBy.search=!0}getProductsByDepartment(e,o=""){console.log("Buscar Producto por departamento :",e),this.utility.presentLoading("Cargando...")}initProductList(e){this.items=e,this.filterItems=e,this.setSizes(),this.setBrands(),this.showResultCount()}applySort(e,o,g){this.uncheckSorts(),console.log("type :>> ",g,this.sort),this.listBy.banner||(this.listBy.nav?(this.resetItems(),this.listBy.nav=!0,this.getProductsByDepartment(this.searchIn,`&column=${e}&order=${o}`)):this.listBy.search&&this.searchProducts(this.searchIn,`&column=${e}&order=${o}`)),this.sort[g]=!0}applyLocalSort(e,o,g){this.uncheckSorts(),this.sort[g]=!0,console.log("column :>> ",e),this.items=this.items.sort((h,c)=>(console.log("sort :>> ",h,c),"desc"===o?h[e]>c[e]:h[e]<c[e]))}applyFilter(){if(console.log(this.selectedBrands,this.selectedSizes,this.priceRange),this.selectedBrands.length>0||this.selectedSizes.length>0||this.priceRange.applied){console.log("Filter applied :>> "),this.items=[];for(let e=0;e<this.filterItems.length;e++){let o=!0,g=!0,h=!0;if(this.selectedBrands.length>0&&(o=this.selectedBrands.some(c=>c.brand.toLocaleLowerCase()===this.filterItems[e].brand.toLocaleLowerCase()&&c.isChecked)),this.selectedSizes.length>0&&(g=this.selectedSizes.some(c=>c.size==this.filterItems[e].size&&c.isChecked)),this.priceRange.applied){let c=this.filterItems[e].rsp;c=c||this.filterItems[e].mrp,h=c>=this.priceRange.lower&&c<=this.priceRange.upper}o&&g&&h&&this.items.push(this.filterItems[e])}}else console.log("No Filter found:>> "),this.items=this.filterItems}showResultCount(){this.show_result_size=!0,setTimeout(()=>{this.show_result_size=!1},2e3)}getBrands(){this.brands=[],this.selectedBrands=[]}setBrands(){let e=[];this.brands=[],this.selectedBrands=[],this.items.forEach(o=>{o.brand&&!e.includes(o.brand)&&(e.push(o.brand),this.brands.push({isChecked:!1,brand:o.brand}))}),console.log("set brands :>> ",this.brands)}setSizes(){let e=[];this.sizes=[],this.selectedSizes=[],this.items.forEach(o=>{console.log("val :>> ",o),o.size&&!e.includes(o.size)&&(e.push(o.size),this.sizes.push({isChecked:!1,size:o.size}))}),console.log("sizes :>> ",this.sizes)}resetItems(){this.items=[],this.filterItems=[],this.searchIn="",this.searchTerm="",this.uncheckFilters(),this.uncheckSorts(),this.defaultListBy()}uncheckSorts(){this.defaultSorting()}uncheckFilters(){this.selectedBrands=[],this.selectedSizes=[],this.defaultPriceRange();for(let e=0;e<this.brands.length;e++)this.brands[e].isChecked=!1;for(let e=0;e<this.sizes.length;e++)this.sizes[e].isChecked=!1}defaultPriceRange(){this.priceRange={applied:!1,lower:0,upper:5e3}}defaultSorting(){Object.keys(this.sort).forEach(e=>{this.sort[e]=!1})}defaultListBy(){Object.keys(this.listBy).forEach(e=>{this.listBy[e]=!1})}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(n.IN),t.LFG(d.t))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var m=a(1479),T=a(4283),C=a(999);let P=(()=>{class s{constructor(e){this.vibrationPlugin=e}multipleVibration(e){this.vibrationPlugin.vibrate(e),this.vibrationPlugin.vibrate(0)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(C.w))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-notification-bell"]],decls:2,vars:0,consts:[["name","notifications-outline",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-button"),t.TgZ(1,"ion-icon",0),t.NdJ("click",function(){return o.multipleVibration([1e3,2e3,4e3,2e3,5e3])}),t.qZA(),t.qZA())},directives:[n.YG,n.gu],styles:[""]}),s})();function v(s,l){if(1&s&&(t.TgZ(0,"ion-slide"),t._UZ(1,"img",16),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("src",(null==e?null:e.imgurl)||"assets/imgs/divisions.svg",t.LSH)}}function A(s,l){if(1&s&&(t.TgZ(0,"ion-slides",14),t.YNc(1,v,2,1,"ion-slide",15),t.qZA()),2&s){const e=t.oxw();t.Q6J("options",e.slideOpts),t.xp6(1),t.Q6J("ngForOf",e.bannerImages)}}function b(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"ion-col",17),t.TgZ(1,"ion-card",18),t._UZ(2,"img",19),t.TgZ(3,"ion-card-header"),t.TgZ(4,"ion-card-subtitle"),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-title",20),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"ion-card-content"),t.TgZ(9,"div",21),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"div"),t.TgZ(13,"ion-button",22),t.NdJ("click",function(){const h=t.CHM(e).$implicit;return t.oxw().addToCartModal(h)}),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,o=t.oxw();t.xp6(2),t.Q6J("src",(null==e?null:e.imgurl)||"assets/imgs/divisions.svg",t.LSH),t.xp6(3),t.Oqu(null==e?null:e.category),t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(3),t.Oqu(t.xi3(11,5,null==e?null:e.price,"\u20ac")),t.xp6(4),t.hij(" ",o.cart.isAddedToCart(null==e?null:e.id)?"Added":"A\xf1adir a Cesta"," ")}}const z=[{path:"",component:(()=>{class s{constructor(e,o,g,h,c,x){this.productService=e,this.routerOutlet=o,this.modalCtrl=g,this.cart=h,this.router=c,this.auth=x,this.slideOpts={initialSlide:0,speed:400,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1}},this.bannerImages=[],this.products=[],this.bannerImages=this.productService.bannerImages,this.products=this.productService.products}addToCartModal(e){return(0,_.mG)(this,void 0,void 0,function*(){if(console.log("item_id :>> ",e),this.cart.isAddedToCart(e.id))this.router.navigate(["/pages/hom2"]);else{this.cart.placeItem(e);const g=yield this.modalCtrl.create({component:u.O,cssClass:"add-to-cart-modal",presentingElement:this.routerOutlet.nativeEl});yield g.present(),yield g.onWillDismiss().then(h=>{console.log("result :>> ",h)}).catch(h=>{console.log("err :>> ",h)})}})}userDetails(){return this.angularFireAuth.user}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r),t.Y36(n.jP),t.Y36(n.IN),t.Y36(m.N),t.Y36(f.F0),t.Y36(T.zQ))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-home"]],decls:20,vars:3,consts:[[1,"ion-no-border",2,"background","#F4FAF6"],["slot","start"],["menu","menu-content"],["src","/../assets/LOGO icono.png"],["placeholder","Buscar Producto","mode","ios",2,"padding","16px 0px"],["slot","end"],[3,"fullscreen"],["pager","true",3,"options",4,"ngIf"],[1,"ion-justify-content-between","ion-padding-vertical"],["size","4"],[1,"font-bold"],["size","6",1,"ion-text-right"],["name","filter-outline"],["size","6","size-lg","3","size-md","4",4,"ngFor","ngForOf"],["pager","true",3,"options"],[4,"ngFor","ngForOf"],[1,"banner-image",3,"src"],["size","6","size-lg","3","size-md","4"],[1,"ion-no-margin"],[3,"src"],[1,"font-size-1"],[1,"ion-color-dark"],["expand","full","color","danger","size","small",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",1),t.TgZ(3,"ion-menu-button",2),t.TgZ(4,"ion-menu-toggle"),t._UZ(5,"img",3),t.qZA(),t.qZA(),t.qZA(),t._UZ(6,"ion-searchbar",4),t.TgZ(7,"ion-buttons",5),t._UZ(8,"app-notification-bell"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"ion-content",6),t.YNc(10,A,2,2,"ion-slides",7),t.TgZ(11,"ion-grid"),t.TgZ(12,"ion-row",8),t.TgZ(13,"ion-col",9),t.TgZ(14,"div",10),t._uU(15," M\xe1s Vendidos "),t.qZA(),t.qZA(),t.TgZ(16,"ion-col",11),t._UZ(17,"ion-icon",12),t.qZA(),t.qZA(),t.TgZ(18,"ion-row"),t.YNc(19,b,15,8,"ion-col",13),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngIf",o.bannerImages&&o.bannerImages.length),t.xp6(9),t.Q6J("ngForOf",o.products))},directives:[n.Gu,n.sr,n.Sm,n.fG,n.zc,n.VI,n.j9,P,n.W2,i.O5,n.Hr,i.sg,n.A$,n.jY,n.Nd,n.wI,n.gu,n.PM,n.Zi,n.tO,n.Dq,n.FN,n.YG],pipes:[i.H9],styles:[".background-pic[_ngcontent-%COMP%]{height:100vh;width:100%;background:url(/../assets/background2.svg);background-position:30%;background-repeat:no-repeat;background-size:cover}.background-filter[_ngcontent-%COMP%]{height:100%;width:100%;background:rgba(255,255,255,.8);align-items:center;display:flex;flex-direction:column}"]}),s})()}];let O=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[f.Bz.forChild(z)],f.Bz]}),s})(),B=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[i.ez,n.Pc]]}),s})();var I=a(581);let S=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[i.ez,p.u5,n.Pc,O,B,I.e]]}),s})()}}]);